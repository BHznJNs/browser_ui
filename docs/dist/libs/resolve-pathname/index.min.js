function t(t){return"/"===t.charAt(0)}function n(t,n){for(var r=n,e=r+1,f=t.length;e<f;r+=1,e+=1)t[r]=t[e];t.pop()}function r(r,e){void 0===e&&(e="");var f,i=r&&r.split("/")||[],o=e&&e.split("/")||[],l=r&&t(r),u=e&&t(e),a=l||u;if(r&&t(r)?o=i:i.length&&(o.pop(),o=o.concat(i)),!o.length)return"/";if(o.length){var h=o[o.length-1];f="."===h||".."===h||""===h}else f=!1;for(var p=0,s=o.length;s>=0;s--){var v=o[s];"."===v?n(o,s):".."===v?(n(o,s),p++):p&&(n(o,s),p--)}if(!a)for(;p--;p)o.unshift("..");!a||""===o[0]||o[0]&&t(o[0])||o.unshift("");var c=o.join("/");return f&&"/"!==c.substr(-1)&&(c+="/"),c}export default r;